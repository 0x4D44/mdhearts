Implementation Plan — Hard Endgame Micro-solver (2025-10-24)

Milestone A — Scaffold + Flags (choose-only)
- Add env knobs and wiring in Hard planner (search.rs):
  - MDH_HARD_ENDGAME_DP_ENABLE, MDH_HARD_ENDGAME_MAX_CARDS, MDH_HARD_ENDGAME_BONUS.
- Implement helper `micro_endgame_bonus(sim: &RoundState, ctx, leader, leader_target, budget) -> i32` returning 0 unless enabled.
- Call from next_trick_probe continuation assembly (choose-only) and clamp with existing continuation cap.
- Keep explain path unchanged (no micro solver).

Milestone B — Smoke test + Docs
- Test: hard_endgame_dp_smoke.rs constructs <=3-cards-per-hand scenario, sets DP_ENABLE=1, runs explain/choose; assert runs without panic and returns candidates.
- Docs: document new env knobs in docs/CLI_TOOLS.md and mention in README.

Milestone C — Tiny signals (optional, env-gated)
- If needed, add small scoring within micro_endgame_bonus: favor feeding leader vs self-capture in very short horizons; maintain strict caps.
- Add an env to scale the micro-solver’s contribution if required; keep default 0.

Milestone D — Evaluation + Promotion Gate
- Run mixed-seat deterministic evals with DP_ENABLE=1 (env-only trials) and report means/CI.
- Promote only if stable CI-backed improvements with no regressions; otherwise keep off by default.

