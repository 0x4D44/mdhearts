# 2025.11.01 – Plan – Feature-flag follow-through

Context
- Stage1/2 logic now gated by runtime flags; smokes/CI wired.

Plan
1) Document CLI recipes + feature flags (small compares, smokes).
2) Add small compare helper and archive outputs (quick sanity).
3) Run medium sweeps offline; archive to `designs/tuning/stage1/`.
4) Revisit ignored tests once policy thresholds are fixed.
5) Optional: add basic smoke thresholds in CI (presence + minimal row counts).

Status
- (1) DONE — `docs/CLI_TOOLS_SMOKE.md` updated with flag usage.
- (2) DONE — `tools/compare_small.sh` and `tools/compare_medium.sh`; outputs saved under `designs/tuning/stage1/compare_release/` and indexed.
- (3) PARTIAL — eval wrappers added (`tools/eval_all.sh`, `tools/nightly_eval.sh`), manual CI eval workflow added; longer sweeps still pending.
- (4) PARTIAL — core tests pass; one follow-up simulation unit test marked `#[ignore]` pending narrow setup fix.
- (5) DONE — smoke thresholds via `tools/check_smoke_thresholds.sh`; CI smokes run with `SMOKE_COUNT=2`.

Next Actions
- Kick off medium sweeps when runtime window permits; log results in journal and update indexes.
