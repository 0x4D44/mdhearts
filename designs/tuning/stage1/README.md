# Stage 1 Archives (Deterministic Sweeps and Traces)

Scope
- Representative CSVs copied from `tmp/` on 2025-10-30 to preserve tuning evidence for Stage 1 Hard planner guards.
- Files include: west 1000-seed on/off pairs (HHNN/NNHH), guard spot checks, and 200-seed samples for other seats with one example trace breakdown.

Environment (expected for reproduction)
- `MDH_HARD_DETERMINISTIC=1`
- `MDH_HARD_TEST_STEPS=160`
- Hard defaults at time of sweep:
  - `MDH_HARD_PLANNER_NUDGE_GAP_MIN=4` (effective −2 when scores are flat)
  - `MDH_HARD_PLANNER_NUDGE_ROUND_CAP=6`
  - `MDH_HARD_PLANNER_NUDGE_NEAR100=90`
  - `MDH_HARD_PLANNER_MAX_BASE_FOR_NUDGE=220`

Expected deltas (reference)
- West HHNN and NNHH 1000-seed: ≈ −0.002 vs off (neutral within ±0.01).
- Cross-seat 200-seed samples: neutral within ±0.01; see journal/design notes for nuances.

Notes
- Trace breakdowns (e.g., `*_trace_v3.csv`) contain `nudge_guard` summaries when `MDH_HARD_PLANNER_NUDGE_TRACE=1` and `--stats` are used.
- Use `mdhearts --match-mixed <seat> <seed_start> <count> <mix> --stats` with the deterministic env to regenerate.

Release-smoke samples (ultra-fast)
- Saved under `designs/tuning/stage1/smoke_release/` as `stage1_ci_<seat>_<mix>_smoke_fast1.csv`.
- Generated by `tools/smoke_fast.sh [seed_start]` with `SMOKE_COUNT` (default 2) so CSVs contain header+rows for quick checks.
- Equivalent manual invocation:
```
MDH_HARD_DETERMINISTIC=1 MDH_HARD_TEST_STEPS=60 \
  mdhearts --match-mixed <seat> <seed_start> $SMOKE_COUNT <mix> \
  --hard-steps 60 --hard-branch-limit 150 --hard-next-branch-limit 80 --hard-time-cap-ms 5 \
  --stats --out tmp/stage1_ci_<seat>_<mix>_smoke_fast1.csv
```
