# mdhearts Implementation Plan

**Document Date:** 24 September 2025

## Overview
This implementation roadmap aligns the Rust + Windows App SDK high-level design with five execution phases focused on delivering an offline-first mdhearts experience. Each step outlines leads, major workstreams, dependencies, and exit criteria needed to progress.

## Step 1. Foundations & Architecture (Weeks 1-4)
- **Leads:** Technical director, platform engineer, tools engineer
- **Workstreams:** Stand up Rust workspace with `windows` crate projections, integrate WinUI 3 shell, evaluate mdsol asset formats, define crate boundaries (`hearts-core`, `hearts-ui`, `hearts-app`), set up CI/CD (GitHub Actions) targeting `x86_64-pc-windows-msvc`, and document coding standards.
- **Dependencies:** Hardware lab access for Windows 10/11 targets, approval for mdsol asset usage, confirmed architectural decisions from HLD.
- **Exit Criteria:** Compiling WinUI window driven from Rust entry point, automated build/test pipeline green, asset conversion POC delivering rendered card sprites, architecture document published.

## Step 2. Core Rules & Persistence (Weeks 5-12)
- **Leads:** Gameplay engineering lead, data engineer
- **Workstreams:** Implement deterministic Hearts rules engine, card/pass sequencing, scoring, shoot-the-moon logic, serialization for save/resume, local settings/stat storage, and unit/integration tests with coverage gates.
- **Dependencies:** Completed crate scaffolding, asset pipeline in place, design-approved rule variations list.
- **Exit Criteria:** CLI/simulation harness running full hands, save/resume flow functional, >90% statement coverage on `hearts-core`, performance profile within 2ms per turn on mid-tier hardware.

## Step 3. UI Integration & Interaction Model (Weeks 13-20)
- **Leads:** UX/UI lead, platform engineer
- **Workstreams:** Bind core state to WinUI view models (MVVM), implement table layout, input handlers (mouse/keyboard), animations, theme system, and stats dashboards; adapt mdsol-derived assets to high-DPI layouts; wire basic audio cues through XAudio2.
- **Dependencies:** Stable core API from Step 2, approved UI wireframes, resource loading framework.
- **Exit Criteria:** Playable local match against stub AI through GUI, theming toggles functional, accessibility hooks (text scaling, keyboard navigation) MVP complete, no unhandled frame drops above 16ms budget in profiling.

## Step 4. AI Personas, Tutorials & Accessibility Polish (Weeks 21-30)
- **Leads:** AI lead, narrative designer, accessibility lead
- **Workstreams:** Develop persona-driven AI strategies, difficulty tuning tooling, tutorial mission scripting, hint/analysis overlays, screen reader and high-contrast assets, localization scaffolding, and QA playtest loops for balance feedback.
- **Dependencies:** UI integration complete, analytics logging (local) for AI tuning, accessibility requirements sign-off.
- **Exit Criteria:** Four distinct AI personas with measurable behavioral differences, tutorial arc covering passing/trick strategy/moon shooting, accessibility checklist (text scaling, focus order, narration metadata) cleared, positive playtest scores on fun/clarity metrics.

## Step 5. Stabilization, Packaging & Future Networking Prep (Weeks 31-36)
- **Leads:** Release manager, QA director, platform engineer
- **Workstreams:** Full regression suite execution, performance optimization, finalize audio/visual polish, prepare MSIX installer and Windows Store packaging artifacts, create support documentation, and draft technical spike plan for future networked play (API boundaries, serialization contracts).
- **Dependencies:** Feature-complete build from Step 4, installer signing certificates, QA lab availability.
- **Exit Criteria:** Zero high-severity defects open, MSIX installer passes Windows App Certification Kit, documentation set (user guide + troubleshooting), post-launch backlog prioritized with networking epics stubbed, go/no-go sign-off.
