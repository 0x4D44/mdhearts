# Stage 6 Summary - Search vs Hard Think-Limit + Mixed-Seat Work

_Generated: 2025-11-07 10:40 CT_

## Executive Summary
- Stage 5 quantified Search vs Hard under 5s/10s/15s/unlimited caps (mirrored seats). Search wins modestly on west/south/east, trails on north; deltas are cap-invariant.
- Telemetry plumbing now records think-limit metadata, timeouts, and fallback labels for both mirrored and mixed runs; smokes prove timeout behavior, while standard runs export NDJSON via `--telemetry-out`.
- Mixed-seat pilot (shsh) completed at 200 seeds/seat across four caps: penalties are flat vs cap, telemetry shows zero timeouts in regular runs, and per-seat NDJSON is archived for analysis.

## Data Artifacts
- Mirrored run: `designs/tuning/search_vs_hard/2025-11-06_090614/` + `tmp/search_vs_hard_stage5/analysis.json`.
- Mixed run (shsh): `designs/tuning/search_vs_mixed/2025-11-07_103451/` + `tmp/search_vs_mixed/2025-11-07_103451.json`.
- Stage 5 report: `wrk_docs/2025.11.07 - RPT - search_vs_hard_stage5.md` (includes telemetry sample, mixed-seat section, disagreement plan).

## Findings
1. **Think-limit sweeps**
   - Search vs Hard deltas unchanged across caps; Search slightly ahead except north seat (-0.385).
   - Zero disagreements in deterministic compare batches; nondeterministic sanity run (20 seeds, Hard time-cap tweaks) still produced zero mismatch rows.
2. **Telemetry**
   - `--telemetry-out` operational on mirrored batches; smokes capture 48 timeout records with fallback mix (`heuristic_best` vs `planner_result`).
   - Mixed harness now emits NDJSON per seat automatically; regular runs show no timeouts while smokes verify fallback flow.
3. **Mixed-seat shsh pilot**
   - Avg penalties (Search seats) ~6.6/6.5/7.1/6.5 (W/S/E/N) regardless of cap, suggesting mix outcomes dominated by seat role more than think limit.
   - Telemetry counts vary 109-130 per seat with zero timeouts, indicating Search stays within deterministic step budgets.

## Risks / Open Questions
- Lack of disagreement data: need broader randomized runs (different seeds, non-deterministic Search) to confirm convergence or surface deltas.
- Mixed coverage limited to shsh; need additional mixes (snhh, sshh, shhs) and seat rotations before drawing generalized conclusions.
- README/doc encoding issues mostly fixed, but final PR should confirm ASCII-only output and consistent examples.

## Next Steps
1. Run disagreement-focused batches (e.g., 50 seeds per seat with stochastic Hard/Search) and summarize any mismatches.
2. Expand the mixed-seat matrix (additional mixes + seat rotations) and append results to the Stage 5/6 docs.
3. Finalize the Stage 6 PR package: include Stage 5 report, Stage 6 summary, script changes, telemetry artifacts, and journal references.
4. Trigger targeted tests (CLI parser, controller telemetry tests) before submission.
5. Tests already run: `cargo test -p hearts-app controller::tests::search_autoplay_records_think_limit` and `...::autoplay_timeout_records_fallback` (pass).
4. Trigger targeted tests (`cargo test -p hearts-app controller::tests::*think_limit*`, CLI parser smoke) prior to submission.
