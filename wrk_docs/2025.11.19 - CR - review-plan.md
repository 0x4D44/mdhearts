# 2025-11-19 Code Review Plan – Repo-Wide Assessment

## 1. Repository Enumeration
- List workspace members (`Cargo.toml`, `crates/*`).
- Note ancillary dirs: `assets`, `docs`, `tools`, `designs`, `installers`, `.github`.
- Capture build settings (`.cargo/config.toml`, rustflags).

## 2. hearts-core Deep Dive
- `src/lib.rs`, `model/*`, `game/*`.
- Rules correctness (passing, trick resolution, scoring, RNG), panic paths, API ergonomics.
- Unit test completeness (edge cases: shoot moon, pass directions, serialization).

## 3. hearts-app Deep Dive
- **Controller/Telemetry:** `src/controller.rs`, `src/telemetry.rs`, `ThinkConfig`, timeout handling, telemetry retention.
- **Bot System:** `src/bot/*` (play planners, pass planner, tracker, search); focus on determinism, env flags, unsafe usage.
- **CLI/Tools:** `src/cli.rs`, dataset/export modules, benches/tests.
- **Platform:** `src/platform/*` (Win32 host, WinUI shims) for unsafe boundaries/resource mgmt.

## 4. hearts-ui & Assets
- `src/resource.rs`, `src/theme.rs`, manifest loading, placeholder behavior.
- Spot-check asset licensing in `assets/`.

## 5. Tests & Tooling
- Integration tests under `crates/hearts-app/tests` (Stage1/Stage2, hard_* suites) for determinism/flakiness.
- Coverage tooling attempt (`cargo llvm-cov --workspace --summary-only --test-threads=1`) to surface hidden failures.
- Review docs (`README.md`, `ARCHITECTURE.md`, `CHANGELOG.md`) for accuracy vs code.

## 6. Consolidate Findings
- Categorize issues (High/Med/Low), covering functionality, performance, safety, DX.
- Recommend remediation & next steps (coverage, flaky tests, docs).

## Execution Notes
- Journal updates continue in `wrk_journals/2025.11.18 - JRN - impl.md`.
- Final report saved as `wrk_docs/2025.11.19 - CR - repo-review.md`.

## Coverage Remediation Plan
